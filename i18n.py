# i18n.py
# Keep this file tiny and dependency-free.

TRANSLATIONS = {
    'en': {
        'metric_keys': {
            'landing_page_views': 'Landing Page Views',
            'total_conversations': 'Total Conversations',
            'spend': 'Spend',
            'clicks': 'Clicks',
            'impressions': 'Impressions',
            'reach': 'Reach',
            'ctr': 'CTR',
            'cpc': 'CPC'
        },
        'settings': 'âš™ï¸ Settings',
        'manage_profiles': 'Manage Credential Profiles',
        'add_profile': 'Add New Profile',
        'tab_overview': 'Overview',
        'tab_campaigns': 'Campaigns',
        'tab_ads': 'Ads',
        'tab_demographics': 'Demographics',
        'tab_devices': 'Devices & Platforms',
        'profile_name': 'Profile Name',
        'app_id': 'App ID',
        'app_secret': 'App Secret',
        'access_token': 'Access Token',
        'ad_account': 'Ad Account ID (e.g., act_123456)',
        'save_profile': 'ðŸ’¾ Save Profile',
        'delete_profile': 'ðŸ—‘ï¸ Delete Profile',
        'select_profile': 'ðŸ“‚ Select Profile',
        'date_range': 'Date Range',
        'load_data': 'Load Data',
        'metric_select': 'Select Metric',
        'metric_options': ['Landing Page Views', 'Total Conversations', 'Spend', 'Clicks', 'Impressions', 'Reach', 'CTR', 'CPC'],
        'lpv_by_day': 'Landing Page Views by Day',
        'spend_by_day': 'Spend by Day',
        'clicks_by_day': 'Clicks by Day',
        'impressions_by_day': 'Impressions by Day',
        'reach_by_day': 'Reach by Day',
        'ctr_by_day': 'CTR by Day',
        'cpc_by_day': 'CPC by Day',
        'lpv_by_campaign': 'Landing Page Views by Campaign',
        'date_label': 'Date',
        'lpv_label': 'Landing Page Views',
        'select_profile_prompt': "ðŸ‘ˆ Select a profile and date range, then click 'Load Data' to begin",
        'fetching_data': 'ðŸ“Š Fetching data from Facebook Ads Manager...',
        'data_loaded_success': 'âœ… Data loaded successfully!',
        'key_metrics': 'Key Performance Metrics',
        'widget_kpi_description': 'Summaries of spend, reach, and conversations for quick alignment.',
        'widget_daily_description': 'Visualize day-by-day momentum for clicks, impressions, and your focus KPI.',
        'widget_platform_description': 'Identify which platforms and placements are delivering engagement.',
        'total_spend': 'ðŸ’° Total Spend',
        'spend_label': 'Spend (RM)',
        'total_clicks': 'ðŸ‘† Total Clicks',
        'landing_page_views': 'ðŸŒ Landing Page Views',
        'total_reach': 'ðŸ‘ï¸ Total Reach',
        'reach_label': 'Reach',
        'total_conversations': 'ðŸ’¬ Total Conversations',
        'total_impressions': 'ðŸ“Š Total Impressions',
        'avg_ctr': 'ðŸ“ˆ Avg CTR',
        'ctr_label': 'CTR (%)',
        'avg_cpc': 'ðŸ’µ Avg CPC',
        'cpc_label': 'CPC (RM)',
        'primary_metric_badge': 'Primary metric',
        'daily_trends': 'Daily Performance Trends',
        'clicks_impressions_over_time': 'Clicks & Impressions Over Time',
        'performance_by_platform': 'Performance by Platform',
        'campaign_details': 'Campaign Performance Details',
        'ads_details': 'Ad Performance Details',
        'top_10_clicks': 'ðŸ† Top 10 Ads by Clicks',
        'top_10_lpv': 'ðŸ† Top 10 Ads by Landing Page Views',
        'top_10_conv': 'ðŸ† Top 10 Ads by Conversations',
        'dashboard_layout': 'Dashboard Layout',
        'widget_picker_label': 'Choose the widgets you want to display',
        'widget_sort_instruction': 'Drag items to reorder how widgets appear in the overview.',
        'download_layout': 'Download layout (JSON)',
        'upload_layout': 'Upload layout (JSON)',
        'layout_import_success': 'Layout imported successfully!',
        'layout_import_error': 'Could not import layout. Please verify the file.',
        'use_global_metric': 'Use dashboard metric',
        'custom_metric_label': 'Metric preference',
        'audience_demographics': 'Audience Demographics',
        'age_distribution': 'Age Distribution',
        'gender_distribution': 'Gender Distribution',
        'device_platform_analytics': 'Device & Platform Analytics',
        'device_breakdown': 'Device Breakdown',
        'platform_performance': 'Platform Performance',
        'clicks_by_platform': 'Clicks by Platform',
        'impressions_by_platform': 'Impressions by Platform',
        'lpv_by_platform': 'Landing Page Views by Platform',
        'conversations_by_platform': 'Conversations by Platform',
        'spend_by_platform': 'Spend by Platform',
        'reach_by_platform': 'Reach by Platform',
        'ctr_by_platform': 'CTR by Platform',
        'cpc_by_platform': 'CPC by Platform',
        'platform_label': 'Platform',
        'clicks_label': 'Clicks',
        'impressions_label': 'Impressions',
        'no_platform_data': 'No platform distribution data available for this range.',
        'no_campaign_data': 'No campaign data available for the selected date range.',
        'export_data': 'Export Data',
        'download_campaign': 'Download Campaign Data (CSV)',
        'download_ads': 'Download Ad Data (CSV)',
        'download_daily': 'Download Daily Data (CSV)',
        'getting_started': 'ðŸš€ Getting Started',
        'getting_started_title': 'How to Use This Dashboard',
        'getting_started_step1': 'Language',
        'getting_started_step1_details': 'choose en (English) or zh (ä¸­æ–‡).',
        'getting_started_step2': 'Date Range',
        'getting_started_step2_details': 'pick a start and end date for your analysis.',
        'getting_started_step3': 'Load Data',
        'getting_started_step3_details': 'click Load Data to fetch your ads data.',
        'getting_started_step4': 'Primary Metric',
        'getting_started_step4_details': 'defaults to Landing Page Views. Switch to Messaging Conversations to update all charts and totals.',
        'getting_started_creds_title': 'Need help?',
        'getting_started_creds_app': 'Contact Caden at hoeyinf1@yahoo.com for assistance.',
        'winners_tab': 'Winners vs Underperformers',
        'min_impressions': 'Minimum Impressions',
        'min_clicks': 'Minimum Clicks',
        'filter_campaign': 'Filter by Campaign',
        'top_performers': 'ðŸ† Top Performers',
        'needs_improve': 'ðŸ“Š Needs Improvement',
        'no_ads': 'No ad data available for the selected date range.',
        'no_match': 'No ads match the selected filters. Try adjusting the minimum thresholds.',
        'no_daily_data': 'No daily results available for this selection.',
        'conversations_by_day': 'Messaging Conversations Started by Day',
        'conversations_label': 'Conversations',
        'no_metric_daily_data': 'No data available for the selected metric.',
        'no_widgets_selected': 'Add widgets from the sidebar to design your overview.'
    },
    'zh': {
        'metric_keys': {
            'landing_page_views': 'è½åœ°é¡µæµè§ˆ',
            'total_conversations': 'ä¼šè¯æ€»æ•°',
            'spend': 'èŠ±è´¹',
            'clicks': 'ç‚¹å‡»é‡',
            'impressions': 'æ›å…‰é‡',
            'reach': 'è§¦è¾¾äººæ•°',
            'ctr': 'ç‚¹å‡»çŽ‡',
            'cpc': 'æ¯æ¬¡ç‚¹å‡»æˆæœ¬'
        },
        'settings': 'âš™ï¸ è®¾ç½®',
        'manage_profiles': 'ç®¡ç†å‡­è¯é…ç½®',
        'add_profile': 'æ·»åŠ æ–°é…ç½®',
        'tab_overview': 'æ¦‚è§ˆ',
        'tab_campaigns': 'å¹¿å‘Šç³»åˆ—',
        'tab_ads': 'å¹¿å‘Š',
        'tab_demographics': 'äººå£ç»Ÿè®¡',
        'tab_devices': 'è®¾å¤‡ä¸Žå¹³å°',
        'profile_name': 'é…ç½®åç§°',
        'app_id': 'åº”ç”¨ ID',
        'app_secret': 'åº”ç”¨å¯†é’¥',
        'access_token': 'è®¿é—®ä»¤ç‰Œ',
        'ad_account': 'å¹¿å‘Šè´¦æˆ· ID (ä¾‹å¦‚: act_123456)',
        'save_profile': 'ðŸ’¾ ä¿å­˜é…ç½®',
        'delete_profile': 'ðŸ—‘ï¸ åˆ é™¤é…ç½®',
        'select_profile': 'ðŸ“‚ é€‰æ‹©é…ç½®',
        'date_range': 'æ—¥æœŸèŒƒå›´',
        'load_data': 'åŠ è½½æ•°æ®',
        'metric_select': 'é€‰æ‹©æŒ‡æ ‡',
        'metric_options': ['è½åœ°é¡µæµè§ˆ', 'ä¼šè¯æ€»æ•°', 'èŠ±è´¹', 'ç‚¹å‡»é‡', 'æ›å…‰é‡', 'è§¦è¾¾äººæ•°', 'ç‚¹å‡»çŽ‡', 'æ¯æ¬¡ç‚¹å‡»æˆæœ¬'],
        'lpv_by_day': 'æ¯æ—¥è½åœ°é¡µæµè§ˆ',
        'spend_by_day': 'æ¯æ—¥èŠ±è´¹',
        'clicks_by_day': 'æ¯æ—¥ç‚¹å‡»é‡',
        'impressions_by_day': 'æ¯æ—¥å±•ç¤ºé‡',
        'reach_by_day': 'æ¯æ—¥è¦†ç›–äººæ•°',
        'ctr_by_day': 'æ¯æ—¥ç‚¹å‡»çŽ‡',
        'cpc_by_day': 'æ¯æ—¥æ¯æ¬¡ç‚¹å‡»æˆæœ¬',
        'lpv_by_campaign': 'å¹¿å‘Šç³»åˆ—è½åœ°é¡µæµè§ˆ',
        'date_label': 'æ—¥æœŸ',
        'lpv_label': 'è½åœ°é¡µæµè§ˆ',
        'select_profile_prompt': 'ðŸ‘ˆ é€‰æ‹©é…ç½®å’Œæ—¥æœŸèŒƒå›´ï¼Œç„¶åŽç‚¹å‡» "åŠ è½½æ•°æ®" å¼€å§‹',
        'fetching_data': 'ðŸ“Š æ­£åœ¨ä»Ž Facebook å¹¿å‘Šç®¡ç†å™¨èŽ·å–æ•°æ®...',
        'data_loaded_success': 'âœ… æ•°æ®åŠ è½½æˆåŠŸï¼',
        'getting_started': 'ðŸš€ å…¥é—¨æŒ‡å—',
        'getting_started_title': 'å¦‚ä½•ä½¿ç”¨æ­¤ä»ªè¡¨æ¿',
        'getting_started_step1': 'è¯­è¨€',
        'getting_started_step1_details': 'é€‰æ‹© enè‹±æ–‡ æˆ– zhä¸­æ–‡ã€‚',
        'getting_started_step2': 'æ—¥æœŸèŒƒå›´',
        'getting_started_step2_details': 'é€‰æ‹©åˆ†æžçš„å¼€å§‹å’Œç»“æŸæ—¥æœŸã€‚',
        'getting_started_step3': 'è½½å…¥æ•°æ®',
        'getting_started_step3_details': 'ç‚¹å‡» åŠ è½½æ•°æ® èŽ·å–å¹¿å‘Šæ•°æ®ã€‚',
        'getting_started_step4': 'ä¸»è¦æŒ‡æ ‡',
        'getting_started_step4_details': 'é»˜è®¤æ˜¾ç¤º è½åœ°é¡µæµè§ˆã€‚å¯åˆ‡æ¢ä¸º ä¼šè¯æ€»æ•°ï¼Œå›¾è¡¨ä¸Žæ€»è®¡ä¼šå³æ—¶æ›´æ–°ã€‚',
        # 'getting_started_step5': 'åŠ è½½æ•°æ®',
        # 'getting_started_step5_details': 'ç‚¹å‡»"åŠ è½½æ•°æ®"æŒ‰é’®èŽ·å–å¹¿å‘Šæ•°æ®',
        'getting_started_creds_title': 'éœ€è¦ååŠ©ï¼Ÿ',
        'getting_started_creds_app': 'è¯·è”ç³» Cadenï¼šhoeyinf1@yahoo.com',
        # 'getting_started_creds_token': 'è®¿é—®ä»¤ç‰Œ',
        # 'getting_started_creds_account': 'å¹¿å‘Šè´¦æˆ· ID',
        # 'getting_started_creds_app_link': 'Facebook Developers',
        # 'getting_started_creds_token_link': 'Facebook Business Manager',
        # 'getting_started_creds_account_details': 'åœ¨å¹¿å‘Šç®¡ç†å™¨ URL ä¸­å¯ä»¥æ‰¾åˆ°',
        'key_metrics': 'å…³é”®ç»©æ•ˆæŒ‡æ ‡',
        'widget_kpi_description': 'æ±‡æ€»æ‰€é€‰å‘¨æœŸçš„æ”¯å‡ºã€è¦†ç›–ä¸Žä¼šè¯ç­‰å…³é”®æŒ‡æ ‡ã€‚',
        'widget_daily_description': 'æŸ¥çœ‹ç‚¹å‡»ã€å±•ç¤ºä¸Žä¸»è¦æŒ‡æ ‡çš„æ¯æ—¥è¶‹åŠ¿å˜åŒ–ã€‚',
        'widget_platform_description': 'äº†è§£å„æŠ•æ”¾å¹³å°å¸¦æ¥çš„äº’åŠ¨è¡¨çŽ°ã€‚',
        'total_spend': 'ðŸ’° å¹¿å‘Šæ€»æ”¯å‡º',
        'spend_label': 'èŠ±è´¹ (RM)',
        'total_clicks': 'ðŸ‘† ç‚¹å‡»æ€»æ•°',
        'landing_page_views': 'ðŸŒ è½åœ°é¡µæµè§ˆ',
        'total_reach': 'ðŸ‘ï¸ è¦†ç›–äººæ•°',
        'reach_label': 'è¦†ç›–äººæ•°',
        'total_conversations': 'ðŸ’¬ ä¼šè¯æ€»æ•°',
        'total_impressions': 'ðŸ“Š å±•ç¤ºæ€»æ•°',
        'avg_ctr': 'ðŸ“ˆ å¹³å‡ CTR',
        'ctr_label': 'ç‚¹å‡»çŽ‡ (%)',
        'avg_cpc': 'ðŸ’µ å¹³å‡ CPC',
        'cpc_label': 'æ¯æ¬¡ç‚¹å‡»æˆæœ¬ (RM)',
        'primary_metric_badge': 'ä¸»æŒ‡æ ‡',
        'daily_trends': 'æ¯æ—¥ç»©æ•ˆè¶‹åŠ¿',
        'clicks_impressions_over_time': 'ç‚¹å‡»ä¸Žå±•ç¤ºéšæ—¶é—´çš„å˜åŒ–',
        'performance_by_platform': 'å„å¹³å°è¡¨çŽ°',
        'campaign_details': 'å¹¿å‘Šç³»åˆ—è¡¨çŽ°è¯¦æƒ…',
        'ads_details': 'å¹¿å‘Šè¡¨çŽ°è¯¦æƒ…',
        'top_10_clicks': 'ðŸ† ç‚¹å‡»æ•°å‰ 10 çš„å¹¿å‘Š',
        'top_10_lpv': 'ðŸ† è½åœ°é¡µæµè§ˆå‰ 10 çš„å¹¿å‘Š',
        'top_10_conv': 'ðŸ† ä¼šè¯æ•°å‰ 10 çš„å¹¿å‘Š',
        'dashboard_layout': 'ä»ªè¡¨æ¿å¸ƒå±€',
        'widget_picker_label': 'é€‰æ‹©è¦æ˜¾ç¤ºçš„å°ç»„ä»¶',
        'widget_sort_instruction': 'æ‹–åŠ¨ä¸‹æ–¹é¡¹ç›®ä»¥è°ƒæ•´æ˜¾ç¤ºé¡ºåºã€‚',
        'download_layout': 'ä¸‹è½½å¸ƒå±€ (JSON)',
        'upload_layout': 'ä¸Šä¼ å¸ƒå±€ (JSON)',
        'layout_import_success': 'å¸ƒå±€å·²å¯¼å…¥ï¼',
        'layout_import_error': 'æ— æ³•å¯¼å…¥å¸ƒå±€ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å†…å®¹ã€‚',
        'use_global_metric': 'è·Ÿéšå…¨å±€æŒ‡æ ‡',
        'custom_metric_label': 'æŒ‡æ ‡åå¥½',
        'audience_demographics': 'å—ä¼—äººç¾¤',
        'age_distribution': 'å¹´é¾„åˆ†å¸ƒ',
        'gender_distribution': 'æ€§åˆ«åˆ†å¸ƒ',
        'device_platform_analytics': 'è®¾å¤‡ä¸Žå¹³å°åˆ†æž',
        'device_breakdown': 'è®¾å¤‡åˆ†ç±»',
        'platform_performance': 'å¹³å°è¡¨çŽ°',
        'clicks_by_platform': 'å„å¹³å°ç‚¹å‡»æ•°',
        'impressions_by_platform': 'å„å¹³å°å±•ç¤ºæ•°',
        'lpv_by_platform': 'å„å¹³å°è½åœ°é¡µæµè§ˆ',
        'conversations_by_platform': 'å„å¹³å°ä¼šè¯æ•°',
        'spend_by_platform': 'å„å¹³å°èŠ±è´¹',
        'reach_by_platform': 'å„å¹³å°è¦†ç›–',
        'ctr_by_platform': 'å„å¹³å°ç‚¹å‡»çŽ‡',
        'cpc_by_platform': 'å„å¹³å°æ¯æ¬¡ç‚¹å‡»æˆæœ¬',
        'platform_label': 'å¹³å°',
        'clicks_label': 'ç‚¹å‡»æ•°',
        'impressions_label': 'å±•ç¤ºæ•°',
        'no_platform_data': 'æš‚æ— å¹³å°åˆ†å¸ƒæ•°æ®ã€‚',
        'no_campaign_data': 'æ‰€é€‰æ—¥æœŸèŒƒå›´å†…æ— å¹¿å‘Šç³»åˆ—æ•°æ®ã€‚',
        'export_data': 'å¯¼å‡ºæ•°æ®',
        'download_campaign': 'ä¸‹è½½å¹¿å‘Šç³»åˆ—æ•°æ® (CSV)',
        'download_ads': 'ä¸‹è½½å¹¿å‘Šæ•°æ® (CSV)',
        'download_daily': 'ä¸‹è½½æ¯æ—¥æ•°æ® (CSV)',
        'winners_tab': 'ä¼˜èƒœè€… vs è¡¨çŽ°æ¬ ä½³',
        'min_impressions': 'æœ€ä½Žå±•ç¤ºæ¬¡æ•°',
        'min_clicks': 'æœ€ä½Žç‚¹å‡»æ•°',
        'filter_campaign': 'æŒ‰å¹¿å‘Šç³»åˆ—ç­›é€‰',
        'top_performers': 'ðŸ† è¡¨çŽ°æœ€ä½³',
        'needs_improve': 'ðŸ“Š éœ€æ”¹è¿›',
        'no_ads': 'æ‰€é€‰æ—¥æœŸèŒƒå›´å†…æ— å¹¿å‘Šæ•°æ®ã€‚',
        'no_match': 'æ²¡æœ‰å¹¿å‘Šç¬¦åˆæ‰€é€‰ç­›é€‰æ¡ä»¶ã€‚è¯·è°ƒæ•´æœ€ä½Žé˜ˆå€¼ã€‚',
        'no_daily_data': 'å½“å‰é€‰æ‹©æ²¡æœ‰æ¯æ—¥æ•°æ®ã€‚',
        'conversations_by_day': 'æ¯æ—¥ä¼šè¯å¼€å¯æ•°',
        'conversations_label': 'ä¼šè¯æ•°',
        'no_metric_daily_data': 'æ‰€é€‰æŒ‡æ ‡æš‚æ— å¯è§†åŒ–æ•°æ®ã€‚',
        'no_widgets_selected': 'è¯·åœ¨ä¾§æ æ·»åŠ è¦æ˜¾ç¤ºçš„å°ç»„ä»¶ã€‚'
    }
}

def t(lang: str, key: str, default: str | None = None):
    """Basic key lookup with English fallback."""
    try:
        return TRANSLATIONS.get(lang, TRANSLATIONS['en']).get(key, default or key)
    except Exception:
        return default or key

def metric_keys(lang: str) -> dict:
    return TRANSLATIONS.get(lang, TRANSLATIONS['en']).get('metric_keys', {})
